<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 PySpark | Spark Code Repo</title>
  <meta name="description" content="Here are some sample Spark codes" />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 PySpark | Spark Code Repo" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Here are some sample Spark codes" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 PySpark | Spark Code Repo" />
  
  <meta name="twitter:description" content="Here are some sample Spark codes" />
  

<meta name="author" content="DEA" />


<meta name="date" content="2024-01-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Spark Methods Repo</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Acknowledgement</a></li>
<li class="chapter" data-level="1" data-path="pyspark.html"><a href="pyspark.html"><i class="fa fa-check"></i><b>1</b> PySpark</a>
<ul>
<li class="chapter" data-level="1.1" data-path="pyspark.html"><a href="pyspark.html#statistics"><i class="fa fa-check"></i><b>1.1</b> Statistics</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="pyspark.html"><a href="pyspark.html#correlation"><i class="fa fa-check"></i><b>1.1.1</b> Correlation</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://davutemrah.github.io" target="blank">Back to Home Page</li>
<li><a href="https://davutemrah.github.io/notebooks/" target="blank">Back to Collections</li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Spark Code Repo</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="pyspark" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">Chapter 1</span> PySpark<a href="pyspark.html#pyspark" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="statistics" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> Statistics<a href="pyspark.html#statistics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="correlation" class="section level3 hasAnchor" number="1.1.1">
<h3><span class="header-section-number">1.1.1</span> Correlation<a href="pyspark.html#correlation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="pyspark.html#cb1-1" tabindex="-1"></a><span class="im">import</span> findspark</span>
<span id="cb1-2"><a href="pyspark.html#cb1-2" tabindex="-1"></a>findspark.init()</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="pyspark.html#cb2-1" tabindex="-1"></a><span class="im">from</span> pyspark.sql <span class="im">import</span> SparkSession</span>
<span id="cb2-2"><a href="pyspark.html#cb2-2" tabindex="-1"></a><span class="im">from</span> pyspark.sql <span class="im">import</span> SQLContext</span>
<span id="cb2-3"><a href="pyspark.html#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="pyspark.html#cb2-4" tabindex="-1"></a><span class="im">from</span> pyspark.conf <span class="im">import</span> SparkConf</span>
<span id="cb2-5"><a href="pyspark.html#cb2-5" tabindex="-1"></a><span class="im">from</span> pyspark.sql.types <span class="im">import</span> <span class="op">*</span> </span>
<span id="cb2-6"><a href="pyspark.html#cb2-6" tabindex="-1"></a><span class="im">import</span> pyspark.sql.functions <span class="im">as</span> F</span>
<span id="cb2-7"><a href="pyspark.html#cb2-7" tabindex="-1"></a><span class="im">from</span> pyspark.sql.functions <span class="im">import</span> col, asc,desc</span>
<span id="cb2-8"><a href="pyspark.html#cb2-8" tabindex="-1"></a><span class="im">from</span> pyspark.mllib.stat <span class="im">import</span> Statistics</span>
<span id="cb2-9"><a href="pyspark.html#cb2-9" tabindex="-1"></a><span class="im">from</span> pyspark.sql.functions <span class="im">import</span> udf</span>
<span id="cb2-10"><a href="pyspark.html#cb2-10" tabindex="-1"></a><span class="im">from</span> pyspark.ml.feature <span class="im">import</span> OneHotEncoder, StringIndexer, VectorAssembler,StandardScaler</span>
<span id="cb2-11"><a href="pyspark.html#cb2-11" tabindex="-1"></a><span class="im">from</span> pyspark.ml <span class="im">import</span> Pipeline</span>
<span id="cb2-12"><a href="pyspark.html#cb2-12" tabindex="-1"></a></span>
<span id="cb2-13"><a href="pyspark.html#cb2-13" tabindex="-1"></a>spark<span class="op">=</span>SparkSession.builder <span class="op">\</span></span>
<span id="cb2-14"><a href="pyspark.html#cb2-14" tabindex="-1"></a>    .master (<span class="st">&quot;local[*]&quot;</span>)<span class="op">\</span></span>
<span id="cb2-15"><a href="pyspark.html#cb2-15" tabindex="-1"></a>    .appName(<span class="st">&quot;part3&quot;</span>)<span class="op">\</span></span>
<span id="cb2-16"><a href="pyspark.html#cb2-16" tabindex="-1"></a>    .getOrCreate()</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="pyspark.html#cb3-1" tabindex="-1"></a><span class="co"># Create a Spark session</span></span>
<span id="cb3-2"><a href="pyspark.html#cb3-2" tabindex="-1"></a>spark <span class="op">=</span> SparkSession.builder.appName(<span class="st">&quot;corr&quot;</span>).getOrCreate()</span>
<span id="cb3-3"><a href="pyspark.html#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="pyspark.html#cb3-4" tabindex="-1"></a><span class="co"># Get the Spark context</span></span>
<span id="cb3-5"><a href="pyspark.html#cb3-5" tabindex="-1"></a>sc <span class="op">=</span> spark.sparkContext</span>
<span id="cb3-6"><a href="pyspark.html#cb3-6" tabindex="-1"></a></span>
<span id="cb3-7"><a href="pyspark.html#cb3-7" tabindex="-1"></a><span class="co"># Create a SQL context</span></span>
<span id="cb3-8"><a href="pyspark.html#cb3-8" tabindex="-1"></a>sqlContext <span class="op">=</span> SQLContext(sc)</span></code></pre></div>
<pre><code>## /Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/pyspark/sql/context.py:112: FutureWarning: Deprecated in 3.0.0. Use SparkSession.builder.getOrCreate() instead.
##   warnings.warn(</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="pyspark.html#cb5-1" tabindex="-1"></a>data_path <span class="op">=</span> <span class="st">&#39;data/diabetes.csv&#39;</span></span>
<span id="cb5-2"><a href="pyspark.html#cb5-2" tabindex="-1"></a>df_diabetes<span class="op">=</span>spark.read <span class="op">\</span></span>
<span id="cb5-3"><a href="pyspark.html#cb5-3" tabindex="-1"></a>      .option(<span class="st">&quot;header&quot;</span>,<span class="st">&quot;True&quot;</span>)<span class="op">\</span></span>
<span id="cb5-4"><a href="pyspark.html#cb5-4" tabindex="-1"></a>      .option(<span class="st">&quot;inferSchema&quot;</span>,<span class="st">&quot;True&quot;</span>)<span class="op">\</span></span>
<span id="cb5-5"><a href="pyspark.html#cb5-5" tabindex="-1"></a>      .option(<span class="st">&quot;sep&quot;</span>,<span class="st">&quot;,&quot;</span>)<span class="op">\</span></span>
<span id="cb5-6"><a href="pyspark.html#cb5-6" tabindex="-1"></a>      .csv(data_path)</span>
<span id="cb5-7"><a href="pyspark.html#cb5-7" tabindex="-1"></a><span class="co">#####################################################</span></span>
<span id="cb5-8"><a href="pyspark.html#cb5-8" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;There are&quot;</span>, df_diabetes.count(), <span class="st">&quot;rows&quot;</span>, <span class="bu">len</span>(df_diabetes.columns),</span>
<span id="cb5-9"><a href="pyspark.html#cb5-9" tabindex="-1"></a>      <span class="st">&quot;columns in the data.&quot;</span>) </span></code></pre></div>
<pre><code>## There are 768 rows 9 columns in the data.</code></pre>
<div id="custom-correlation-method" class="section level4 hasAnchor" number="1.1.1.1">
<h4><span class="header-section-number">1.1.1.1</span> Custom Correlation Method<a href="pyspark.html#custom-correlation-method" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="pyspark.html#cb7-1" tabindex="-1"></a><span class="kw">def</span> correlation_df(df, target_var, feature_cols, method):</span>
<span id="cb7-2"><a href="pyspark.html#cb7-2" tabindex="-1"></a></span>
<span id="cb7-3"><a href="pyspark.html#cb7-3" tabindex="-1"></a>    <span class="im">from</span> pyspark.ml.feature <span class="im">import</span> VectorAssembler</span>
<span id="cb7-4"><a href="pyspark.html#cb7-4" tabindex="-1"></a>    <span class="im">from</span> pyspark.ml.stat <span class="im">import</span> Correlation</span>
<span id="cb7-5"><a href="pyspark.html#cb7-5" tabindex="-1"></a></span>
<span id="cb7-6"><a href="pyspark.html#cb7-6" tabindex="-1"></a>    <span class="co"># Assemble features into a vector</span></span>
<span id="cb7-7"><a href="pyspark.html#cb7-7" tabindex="-1"></a>    target_var <span class="op">=</span> [target_var]</span>
<span id="cb7-8"><a href="pyspark.html#cb7-8" tabindex="-1"></a>    feature_cols <span class="op">=</span> feature_cols</span>
<span id="cb7-9"><a href="pyspark.html#cb7-9" tabindex="-1"></a>    df_cor <span class="op">=</span> df.select(target_var <span class="op">+</span> feature_cols)</span>
<span id="cb7-10"><a href="pyspark.html#cb7-10" tabindex="-1"></a>    assembler <span class="op">=</span> VectorAssembler(inputCols<span class="op">=</span>target_var<span class="op">+</span>feature_cols, outputCol<span class="op">=</span><span class="st">&quot;features&quot;</span>)</span>
<span id="cb7-11"><a href="pyspark.html#cb7-11" tabindex="-1"></a>    df_cor <span class="op">=</span> assembler.transform(df_cor)</span>
<span id="cb7-12"><a href="pyspark.html#cb7-12" tabindex="-1"></a></span>
<span id="cb7-13"><a href="pyspark.html#cb7-13" tabindex="-1"></a>    <span class="co"># Calculate correlation matrix</span></span>
<span id="cb7-14"><a href="pyspark.html#cb7-14" tabindex="-1"></a>    correlation_matrix <span class="op">=</span> Correlation.corr(df_cor, <span class="st">&quot;features&quot;</span>, method<span class="op">=</span>method).head()</span>
<span id="cb7-15"><a href="pyspark.html#cb7-15" tabindex="-1"></a></span>
<span id="cb7-16"><a href="pyspark.html#cb7-16" tabindex="-1"></a>    <span class="co"># Extract the correlation coefficient between target and each feature</span></span>
<span id="cb7-17"><a href="pyspark.html#cb7-17" tabindex="-1"></a>    target_corr_list <span class="op">=</span> [correlation_matrix[<span class="dv">0</span>][i, <span class="dv">0</span>] <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(feature_cols)<span class="op">+</span><span class="dv">1</span>)][<span class="dv">1</span>:]</span>
<span id="cb7-18"><a href="pyspark.html#cb7-18" tabindex="-1"></a></span>
<span id="cb7-19"><a href="pyspark.html#cb7-19" tabindex="-1"></a>    <span class="co"># Create a DataFrame with target variable, feature names, and correlation coefficients</span></span>
<span id="cb7-20"><a href="pyspark.html#cb7-20" tabindex="-1"></a>    correlation_data <span class="op">=</span> [(feature_cols[i], <span class="bu">float</span>(target_corr_list[i])) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(feature_cols))]</span>
<span id="cb7-21"><a href="pyspark.html#cb7-21" tabindex="-1"></a></span>
<span id="cb7-22"><a href="pyspark.html#cb7-22" tabindex="-1"></a>    correlation_df <span class="op">=</span> spark.createDataFrame(correlation_data, [<span class="st">&quot;feature&quot;</span>, <span class="st">&quot;correlation&quot;</span>])</span>
<span id="cb7-23"><a href="pyspark.html#cb7-23" tabindex="-1"></a>    <span class="co"># Print the result</span></span>
<span id="cb7-24"><a href="pyspark.html#cb7-24" tabindex="-1"></a>    <span class="cf">return</span> correlation_df</span></code></pre></div>
<p>Lets print some selected columns.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="pyspark.html#cb8-1" tabindex="-1"></a>my_columns <span class="op">=</span> [<span class="st">&quot;Outcome&quot;</span>, <span class="st">&quot;Glucose&quot;</span>, <span class="st">&quot;BloodPressure&quot;</span>,<span class="st">&quot;BMI&quot;</span>]</span>
<span id="cb8-2"><a href="pyspark.html#cb8-2" tabindex="-1"></a></span>
<span id="cb8-3"><a href="pyspark.html#cb8-3" tabindex="-1"></a>df_diabetes.select(my_columns).show(<span class="dv">4</span>)</span></code></pre></div>
<pre><code>## +-------+-------+-------------+----+
## |Outcome|Glucose|BloodPressure| BMI|
## +-------+-------+-------------+----+
## |      1|    148|           72|33.6|
## |      0|     85|           66|26.6|
## |      1|    183|           64|23.3|
## |      0|     89|           66|28.1|
## +-------+-------+-------------+----+
## only showing top 4 rows</code></pre>
<p><strong>Spearman Correlation</strong></p>
<p>Spearman correlation, named after Charles Spearman, is a statistical measure that assesses the strength and direction of <code>monotonic</code> relationships between two variables. Unlike <code>Pearson</code> correlation, which measures linear relationships, Spearman correlation focuses on the <code>monotonicity</code> of the relationship, whether it is increasing or decreasing.</p>
<p>Key points about <code>Spearman</code> correlation:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Monotonic Relationship:</strong> Spearman correlation is based on the ranks of the data rather than the actual values. It looks at whether, when one variable increases, the other tends to also increase (and vice versa) in a monotonic fashion. It does not assume a linear relationship.</p></li>
<li><p><strong>Ranking:</strong> The data for each variable is ranked, and the correlation is calculated based on the ranks. If the variables have a perfect <code>monotonic</code> relationship, the <code>Spearman</code> correlation will be 1. If one variable tends to increase as the other decreases, the correlation will be -1.
Calculation: The Spearman correlation coefficient (<span class="math inline">\(\rho\)</span>) is calculated as follows:</p></li>
</ol>
<p><span class="math display">\[\rho = 1 - \frac{6 \sum d_i^2}{n(n^2 - 1)}\]</span> where <span class="math inline">\(d_i\)</span> is the difference between the ranks of corresponding values for the two variables, and <span class="math inline">\(n\)</span> is the number of data points.</p>
<ol start="3" style="list-style-type: decimal">
<li><p><strong>Strength of Correlation:</strong> As with <code>Pearson</code> correlation, the absolute value of the <code>Spearman</code> correlation coefficient indicates the strength of the relationship. A coefficient close to 1 or -1 suggests a strong monotonic relationship, while a coefficient close to 0 suggests a weak or no monotonic relationship.</p></li>
<li><p><strong>Use Cases:</strong> <code>Spearman</code> correlation is particularly useful when dealing with ordinal or ranked data, as it doesn’t rely on the assumption of normality. It’s commonly used in social sciences, finance, and any other fields where the relationship between variables might be nonlinear.</p></li>
<li><p><strong>Ranking Ties:</strong> In cases where there are tied values (two or more identical values) in the data, special methods are used to handle ties in the ranking process.</p></li>
<li><p><strong>Spearman correlation</strong> is a valuable tool when the assumptions of <code>linear</code> relationships are not met, or when dealing with data where the exact values are less important than their relative order. It provides a robust measure of association between variables without requiring a specific functional form for the relationship.</p></li>
</ol>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="pyspark.html#cb10-1" tabindex="-1"></a>target <span class="op">=</span> <span class="st">&#39;Outcome&#39;</span></span>
<span id="cb10-2"><a href="pyspark.html#cb10-2" tabindex="-1"></a>inputs <span class="op">=</span> [<span class="st">&quot;Glucose&quot;</span>, <span class="st">&quot;BloodPressure&quot;</span>,<span class="st">&quot;BMI&quot;</span>]</span>
<span id="cb10-3"><a href="pyspark.html#cb10-3" tabindex="-1"></a></span>
<span id="cb10-4"><a href="pyspark.html#cb10-4" tabindex="-1"></a>df <span class="op">=</span> correlation_df(df <span class="op">=</span> df_diabetes, </span>
<span id="cb10-5"><a href="pyspark.html#cb10-5" tabindex="-1"></a>                    target_var <span class="op">=</span> target, </span>
<span id="cb10-6"><a href="pyspark.html#cb10-6" tabindex="-1"></a>                    feature_cols <span class="op">=</span> inputs,</span>
<span id="cb10-7"><a href="pyspark.html#cb10-7" tabindex="-1"></a>                    method <span class="op">=</span> <span class="st">&#39;spearman&#39;</span>)</span>
<span id="cb10-8"><a href="pyspark.html#cb10-8" tabindex="-1"></a>df.show()</span></code></pre></div>
<pre><code>## +-------------+-------------------+
## |      feature|        correlation|
## +-------------+-------------------+
## |      Glucose|0.47577630645832697|
## |BloodPressure| 0.1429206751899304|
## |          BMI|0.30970674263113884|
## +-------------+-------------------+</code></pre>
<p><strong>Pearson Correlation</strong></p>
<p><code>Pearson</code> correlation, named after Karl Pearson, is a statistical measure that quantifies the strength and direction of a linear relationship between two continuous variables. It assesses how well the relationship between the two variables can be described by a straight line. The Pearson correlation coefficient, often denoted by <span class="math inline">\(r\)</span>, ranges from -1 to 1, where:</p>
<ul>
<li><span class="math inline">\(r = 1\)</span>: Perfect positive linear correlation.</li>
<li><span class="math inline">\(r = -1\)</span>: Perfect negative (inverse) linear correlation.</li>
<li><span class="math inline">\(r = 0\)</span>: No linear correlation.</li>
</ul>
<p>**Key Points:*</p>
<ol style="list-style-type: decimal">
<li><p><strong>Linearity:</strong> Pearson correlation measures the linear relationship between two variables. If the relationship is nonlinear, Pearson correlation may not accurately reflect the strength and direction of the association.</p></li>
<li><p><strong>Calculation:</strong> The Pearson correlation coefficient is calculated as the covariance of the two variables divided by the product of their standard deviations:</p>
<p><span class="math display">\[ r = \frac{\text{cov}(X, Y)}{\sigma_X \cdot \sigma_Y} \]</span></p>
<p>where <span class="math inline">\(\text{cov}(X, Y)\)</span> is the covariance between variables <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>, and <span class="math inline">\(\sigma_X\)</span> and <span class="math inline">\(\sigma_Y\)</span> are their respective standard deviations.</p></li>
<li><p><strong>Strength of Correlation:</strong> The absolute value of <span class="math inline">\(r\)</span> indicates the strength of the correlation. A value close to 1 suggests a strong linear correlation, while a value close to 0 indicates a weak or no linear correlation.</p></li>
<li><p><strong>Direction of Correlation:</strong> The sign of <span class="math inline">\(r\)</span> (+ or -) indicates the direction of the correlation. If <span class="math inline">\(r &gt; 0\)</span>, it indicates a positive correlation (as one variable increases, the other tends to increase). If <span class="math inline">\(r &lt; 0\)</span>, it indicates a negative correlation (as one variable increases, the other tends to decrease).</p></li>
<li><p><strong>Assumptions:</strong> Pearson correlation assumes that the relationship between the variables is linear and that the data is normally distributed. If these assumptions are violated, the reliability of Pearson correlation results may be compromised.</p></li>
<li><p><strong>Use Cases:</strong> Pearson correlation is widely used in various fields, including economics, biology, psychology, and many others, to analyze the degree and direction of association between two continuous variables.</p></li>
</ol>
<p>It’s important to note that while Pearson correlation is a powerful tool for linear relationships, it might not capture complex or nonlinear associations. In such cases, other correlation measures like Spearman correlation (for monotonic relationships) or more advanced techniques may be considered.</p>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["spark_repo.pdf", "spark_repo.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"edit": "https://github.com/rstudio/bookdown-demo/edit/master/%s"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
